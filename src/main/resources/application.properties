# ===================================================================
# = DATASOURCE (for local development connecting to Docker)
# ===================================================================
spring.datasource.url=jdbc:postgresql://localhost:5432/petgram
spring.datasource.username=postgres
spring.datasource.password=password
spring.datasource.driver-class-name=org.postgresql.Driver

# ===================================================================
# = FLYWAY
# ===================================================================
spring.flyway.enabled=true
# Location of the migration scripts
spring.flyway.locations=classpath:db/migration

# ===================================================================
# = JPA / HIBERNATE
# ===================================================================
# Disable Hibernate's automatic schema generation to let Flyway handle it.
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.default_schema=public

# ===================================================================
# = VIRTUAL THREADS (PROJECT LOOM)
# ===================================================================
spring.threads.virtual.enabled=true

# ===================================================================
# = JWT
# ===================================================================
jwt.secret=cGV0Z3JhbS1zZWNyZXQtakeyLWZvci1kZXZlbG9wbWVudC1wdXJwb3Nlcy1vbmx5Cg==
jwt.expiration-in-ms=3600000

# ===================================================================
# = AWS S3 (for local development connecting to MinIO)
# ===================================================================
aws.region=us-east-1
aws.s3.bucket-name=petgram-bucket
# MinIO endpoint
aws.s3.endpoint-url=http://localhost:9000
# MinIO credentials
aws.access-key-id=minioadmin
aws.secret-access-key=minioadmin

# ===================================================================
# = SPRINGDOC OPENAPI
# ===================================================================
# This is the key to prevent the StackOverflowError.
# It disables the automatic generation of default error responses,
# which can conflict with a @RestControllerAdvice.
springdoc.default-responses.enabled=false

# ===================================================================
# = SERVER
# ===================================================================
server.port=8080
